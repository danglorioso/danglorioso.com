<!-- Coming Soon Box -->
<div class="flex justify-center">
    <div class="instructions coming-soon-box bg-slate-800/60 backdrop-blur-sm border border-slate-600/50 rounded-lg p-6 md:p-8 shadow-2xl w-full">
        <!-- Title -->
        <h2 class="text-2xl font-bold text-white mb-4">
            Coming Soon
        </h2>
        
        <!-- Description -->
        <p class="instructions mb-6">
            <!-- Here you'll find my portfolio of academic and personal projects.</br><br> -->
            <strong>This site is a work in progress and is not yet fully complete.</strong> 
            Enter your email address below to get notified when my site is launched.
        </p>
        
        <!-- Mailchimp -->
        <div class="space-y-4">				
            <form
                id="coming-soon-form"
                class="space-y-2"
            >
                <div class="mc-field-group">
                    <input
                        type="email"
                        name="email"
                        id="coming-soon-email"
                        required
                        class="w-full bg-slate-700/50 border border-slate-500/50 text-white placeholder:text-gray-400 rounded-md px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"
                        placeholder="Email address"
                    />
                </div>

                <p id="coming-soon-message" class="text-sm"></p>

                <button
                    type="submit"
                    id="coming-soon-subscribe"
                    class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-md transition-all duration-200"
                >
                    Notify Me
                </button>
            </form>
        </div>
        
        <script>
            const form = document.getElementById("coming-soon-form") as HTMLFormElement | null;
            const message = document.getElementById("coming-soon-message") as HTMLParagraphElement | null;
          
            if (form && message) {
              form.addEventListener("submit", async (e) => {
                e.preventDefault();
          
                const emailInput = form.elements.namedItem("email") as HTMLInputElement;
                const email = emailInput?.value;
          
                if (!email) {
                  message.textContent = "Please enter an email address.";
                  message.className = "text-sm text-red-400";
                  return;
                }
          
                try {
                  const res = await fetch("/api/subscribe", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ email }),
                  });
          
                  const data = await res.json();
          
                  if (res.ok) {
                    message.textContent = "Thanks for subscribing!";
                    message.className = "text-sm text-green-400";
                    form.reset();
                  } else {
                    message.textContent =
                      data?.detail || data?.error || "Something went wrong. Try again.";
                    message.className = "text-sm text-red-400";
                  }
                } catch (error) {
                  message.textContent = "Something went wrong. Try again.";
                  message.className = "text-sm text-red-400";
                }
              });
            }
        </script>
    </div>
</div>

<style>
    :root {
		--accent: 70, 80, 234;
		--accent-light: 156, 172, 250;
		--accent-dark: 2, 0, 70;
		--accent-gradient: linear-gradient(
			45deg,
			rgb(var(--accent)),
			rgb(var(--accent-light)) 40%,
			white 60%
		);
	}
    .instructions {
		background: linear-gradient(rgba(var(--accent-dark), 66%), rgba(var(--accent-dark), 33%));
	}
	.instructions code {
		font-size: 1.5em;
		font-weight: bold;
		background: rgba(var(--accent-light), 12%);
		color: rgb(var(--accent-light));
		border-radius: 4px;
		padding: 0.3em 0.4em;
	}
	.instructions strong {
		color: rgb(var(--accent-light));
	}
</style>
